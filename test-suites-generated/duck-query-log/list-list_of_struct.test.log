PRAGMA enable_verification
CREATE TABLE a AS SELECT [{'a': 3, 'b': 'hello'}, NULL, {'a': NULL, 'b': 'thisisalongstring'}] l;
SELECT * FROM a;
SELECT * FROM a;

SELECT * FROM a;
SELECT * FROM a




SELECT * FROM a;
INSERT INTO a VALUES (NULL)
SELECT * FROM a;
SELECT * FROM a;

SELECT * FROM a;
SELECT * FROM a




SELECT * FROM a;
INSERT INTO a VALUES ([{'a': 17, 'b': 'world'}])
SELECT * FROM a;
SELECT * FROM a;

SELECT * FROM a;
SELECT * FROM a




SELECT * FROM a;
SELECT UNNEST(l) FROM a
SELECT UNNEST(l) FROM a

SELECT UNNEST(l) FROM a
SELECT unnest(l) FROM a




SELECT UNNEST(l) FROM a
CREATE TABLE b AS SELECT [
	{'a': {'a1': [1, 2, 3], 'a2': 17}, 'b': 'hello'},
	NULL,
	{'a': {'a1': [NULL, 4, 5], 'a2': NULL}, 'b': 'thisisalongstring'},
	{'a': {'a1': NULL, 'a2': 22}, 'b': NULL},
	{'a': NULL, 'b': 'aaaaaaaaaaaaaaaaaaaaaaaa'}] l;
SELECT * FROM b;
SELECT * FROM b;

SELECT * FROM b;
SELECT * FROM b




SELECT * FROM b;
SELECT UNNEST(l) FROM b;
SELECT UNNEST(l) FROM b;

SELECT UNNEST(l) FROM b;
SELECT unnest(l) FROM b




SELECT UNNEST(l) FROM b;
SELECT UNNEST(l)['a']['a1'] FROM b;
SELECT UNNEST(l)['a']['a1'] FROM b;

SELECT UNNEST(l)['a']['a1'] FROM b;
SELECT unnest(l)['a']['a1'] FROM b




SELECT UNNEST(l)['a']['a1'] FROM b;
SELECT UNNEST(l)['a']['a2'] FROM b;
SELECT UNNEST(l)['a']['a2'] FROM b;

SELECT UNNEST(l)['a']['a2'] FROM b;
SELECT unnest(l)['a']['a2'] FROM b




SELECT UNNEST(l)['a']['a2'] FROM b;
INSERT INTO b VALUES (NULL), ([
	{'a': {'a1': [6, 7, 8, 9], 'a2': 17}, 'b': 'world1'},
	NULL,
	{'a': {'a1': [10, 11, 12], 'a2': 22}, 'b': 'world2'}
])
SELECT * FROM b;
SELECT * FROM b;

SELECT * FROM b;
SELECT * FROM b




SELECT * FROM b;
SELECT UNNEST(l) FROM b;
SELECT UNNEST(l) FROM b;

SELECT UNNEST(l) FROM b;
SELECT unnest(l) FROM b




SELECT UNNEST(l) FROM b;
SELECT UNNEST(l)['a'] FROM b;
SELECT UNNEST(l)['a'] FROM b;

SELECT UNNEST(l)['a'] FROM b;
SELECT unnest(l)['a'] FROM b




SELECT UNNEST(l)['a'] FROM b;
SELECT UNNEST(l)['a']['a1'] FROM b;
SELECT UNNEST(l)['a']['a1'] FROM b;

SELECT UNNEST(l)['a']['a1'] FROM b;
SELECT unnest(l)['a']['a1'] FROM b




SELECT UNNEST(l)['a']['a1'] FROM b;
