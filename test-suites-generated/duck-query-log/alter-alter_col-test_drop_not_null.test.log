PRAGMA enable_verification;
CREATE TABLE test(i INTEGER, j INTEGER NOT NULL);
INSERT INTO test VALUES (1, 1), (2, 2);
INSERT INTO test VALUES (3, NULL);
SELECT * FROM test;
SELECT * FROM test;
;
SELECT * FROM test;
SELECT * FROM test;
;
;
;
;
SELECT * FROM test;
ALTER TABLE test ALTER COLUMN j DROP NOT NULL;
INSERT INTO test VALUES (3, NULL);
SELECT * FROM test;
SELECT * FROM test;
;
SELECT * FROM test;
SELECT * FROM test;
;
;
;
;
SELECT * FROM test;
CREATE TABLE test2(i INTEGER, j INTEGER);
INSERT INTO test2 VALUES (1, 1), (2, 2);
ALTER TABLE test2 ALTER COLUMN j DROP NOT NULL;
INSERT INTO test VALUES (3, NULL);
DROP TABLE IF EXISTS test;
CREATE TABLE test(i AS (1), j INTEGER NOT NULL);
INSERT INTO test VALUES (1), (2);
INSERT INTO test VALUES (NULL);
SELECT * FROM test;
SELECT * FROM test;
;
SELECT * FROM test;
SELECT * FROM test;
;
;
;
;
SELECT * FROM test;
ALTER TABLE test ALTER COLUMN i DROP NOT NULL;
ALTER TABLE test ALTER COLUMN j DROP NOT NULL;
INSERT INTO test VALUES (NULL);
SELECT * FROM test;
SELECT * FROM test;
;
SELECT * FROM test;
SELECT * FROM test;
;
;
;
;
SELECT * FROM test;
