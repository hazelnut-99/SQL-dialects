PRAGMA enable_verification;
CREATE TABLE t(i INTEGER, j INTEGER);
INSERT INTO t VALUES (1, 1), (2, 2);
ALTER TABLE t ALTER COLUMN j SET NOT NULL;
INSERT INTO t VALUES (3, NULL);
ALTER TABLE t ALTER COLUMN j SET NOT NULL;
INSERT INTO t VALUES (3, NULL);
SELECT * FROM t;
SELECT * FROM t;
;
SELECT * FROM t;
SELECT * FROM t;
;
;
;
;
SELECT * FROM t;
INSERT INTO t SELECT 5,5 from range(65534);
ALTER TABLE t ALTER COLUMN j SET NOT NULL;
INSERT INTO t VALUES (6, NULL);
SELECT COUNT(*) FROM t WHERE j IS NULL;
SELECT COUNT(*) FROM t WHERE j IS NULL;
;
SELECT COUNT(*) FROM t WHERE j IS NULL;
SELECT count_star() FROM t WHERE (j IS NULL);
;
;
;
;
SELECT COUNT(*) FROM t WHERE j IS NULL;
DROP TABLE IF EXISTS t;
CREATE TABLE t(i INTEGER, j INTEGER);
INSERT INTO t VALUES (1, 1), (2, 2), (3, null);
INSERT INTO t SELECT 4,4 FROM RANGE(65536);
ALTER TABLE t ALTER COLUMN j SET NOT NULL;
INSERT INTO t VALUES (5, null);
SELECT * FROM t WHERE j IS NULL;
SELECT * FROM t WHERE j IS NULL;
;
SELECT * FROM t WHERE j IS NULL;
SELECT * FROM t WHERE (j IS NULL);
;
;
;
;
SELECT * FROM t WHERE j IS NULL;
DROP TABLE IF EXISTS t;
CREATE TABLE t(i INTEGER, j INTEGER);
INSERT INTO t SELECT 1,1 FROM RANGE(65536);
ALTER TABLE t ALTER COLUMN j SET NOT NULL;
INSERT INTO t VALUES (2, null);
ALTER TABLE t ALTER COLUMN j DROP NOT NULL;
INSERT INTO t VALUES (3, null);
SELECT * FROM t WHERE j IS NULL;
SELECT * FROM t WHERE j IS NULL;
;
SELECT * FROM t WHERE j IS NULL;
SELECT * FROM t WHERE (j IS NULL);
;
;
;
;
SELECT * FROM t WHERE j IS NULL;
CREATE TABLE t0(c0 AS (1), c1 INT);;
ALTER TABLE t0 ALTER c1 SET NOT NULL;;
DROP TABLE IF EXISTS t;
CREATE TABLE t(i AS (1), j INTEGER);
INSERT INTO t SELECT 1 FROM RANGE(65536);
ALTER TABLE t ALTER COLUMN i SET NOT NULL;
ALTER TABLE t ALTER COLUMN j SET NOT NULL;
INSERT INTO t VALUES (null);
ALTER TABLE t ALTER COLUMN j DROP NOT NULL;
INSERT INTO t VALUES (null);
SELECT * FROM t WHERE j IS NULL;
SELECT * FROM t WHERE j IS NULL;
;
SELECT * FROM t WHERE j IS NULL;
SELECT * FROM t WHERE (j IS NULL);
;
;
;
;
SELECT * FROM t WHERE j IS NULL;
