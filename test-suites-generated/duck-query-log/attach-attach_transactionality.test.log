PRAGMA enable_verification;
BEGIN TRANSACTION;
ATTACH 'duckdb_unittest_tempdir/54293/attach_transaction.db';
ROLLBACK;
BEGIN TRANSACTION;
ATTACH 'duckdb_unittest_tempdir/54293/attach_transaction.db';
CREATE TABLE attach_transaction.integers(i INTEGER);
INSERT INTO attach_transaction.integers VALUES (42);
ROLLBACK;
BEGIN TRANSACTION;
ATTACH 'duckdb_unittest_tempdir/54293/attach_transaction.db';
CREATE TABLE attach_transaction.integers(i INTEGER);
INSERT INTO attach_transaction.integers VALUES (42);
COMMIT;
BEGIN TRANSACTION;
DETACH attach_transaction;
ROLLBACK;
DETACH attach_transaction;
BEGIN TRANSACTION;
ATTACH 'duckdb_unittest_tempdir/54293/attach_transaction.db';
INSERT INTO attach_transaction.integers VALUES (84);
DETACH attach_transaction;
ROLLBACK;
BEGIN TRANSACTION;
ATTACH 'duckdb_unittest_tempdir/54293/attach_transaction.db';
SELECT * FROM attach_transaction.integers;
SELECT * FROM attach_transaction.integers;
;
SELECT * FROM attach_transaction.integers;
SELECT * FROM attach_transaction.integers;
;
;
;
;
SELECT * FROM attach_transaction.integers;
INSERT INTO attach_transaction.integers VALUES (84);
DETACH attach_transaction;
COMMIT;
ATTACH 'duckdb_unittest_tempdir/54293/attach_transaction.db';
SELECT * FROM attach_transaction.integers ORDER BY 1;
SELECT * FROM attach_transaction.integers ORDER BY 1;
;
SELECT * FROM attach_transaction.integers ORDER BY 1;
SELECT * FROM attach_transaction.integers ORDER BY 1;
;
;
;
SELECT * FROM attach_transaction.integers ORDER BY 1;
