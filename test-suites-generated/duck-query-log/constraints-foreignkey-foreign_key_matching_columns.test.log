PRAGMA enable_verification;
CREATE TABLE routes (
	route_id TEXT PRIMARY KEY,
	agency_id TEXT,
	FOREIGN KEY (agency_id) REFERENCES agency
);;
CREATE TABLE agency (
	agency_id TEXT PRIMARY KEY,
	agency_name TEXT UNIQUE NOT NULL
);;
CREATE TABLE routes (
	route_id TEXT PRIMARY KEY,
	agency_id TEXT,
	FOREIGN KEY (route_id, agency_id) REFERENCES agency
);;
CREATE TABLE routes (
	route_id TEXT PRIMARY KEY,
	agency_id TEXT,
	FOREIGN KEY (agency_id) REFERENCES agency
);;
INSERT INTO routes VALUES (1, 1);;
INSERT INTO agency VALUES (1, 1);;
INSERT INTO routes VALUES (1, 1);;
DROP TABLE agency;;
DROP TABLE routes;;
DROP TABLE agency;;
CREATE TABLE agency (
	agency_id TEXT,
	agency_name TEXT NOT NULL
);;
CREATE TABLE routes (
	route_id TEXT PRIMARY KEY,
	agency_id TEXT,
	FOREIGN KEY (agency_id) REFERENCES agency
);;
CREATE TABLE routes (
	route_id TEXT PRIMARY KEY,
	agency_id TEXT,
	FOREIGN KEY (agency_id) REFERENCES routes
);;
INSERT INTO routes VALUES (1, NULL);;
INSERT INTO routes VALUES (2, 2);;
INSERT INTO routes VALUES (2, 1);;
DROP TABLE routes;;
DROP TABLE agency;;
CREATE TABLE agency (
	agency_id TEXT,
	agency_id_2 TEXT,
	agency_name TEXT NOT NULL,
	PRIMARY KEY (agency_id, agency_id_2)
);;
CREATE TABLE routes (
	route_id TEXT PRIMARY KEY,
	agency_id TEXT,
	FOREIGN KEY (route_id, agency_id) REFERENCES agency
);;
