pragma enable_verification;;
CREATE TABLE tbl (
    foo INTEGER,
    bar INTEGER GENERATED ALWAYS AS (foo+1) VIRTUAL,
    foobar INTEGER
);;
insert into tbl VALUES
(1, 24),
(2342, 123),
(23523, 1),
(235, 213),
(8435, null),
(NULL, NULL),
(345, 213),
(12, 5);
insert into tbl select i % 20, random()::INTEGER * 20 from range(100) tbl(i);;
CREATE TABLE non_generated as select * from tbl;;
SELECT sql FROM sqlite_master WHERE name = 'tbl' and contains(sql, 'GENERATED');;
SELECT sql FROM sqlite_master WHERE name = 'tbl' and contains(sql, 'GENERATED');;
;
SELECT sql FROM sqlite_master WHERE name = 'tbl' and contains(sql, 'GENERATED');;
SELECT "sql" FROM sqlite_master WHERE (("name" = 'tbl') AND contains("sql", 'GENERATED'));
;
;
;
;
SELECT sql FROM sqlite_master WHERE name = 'tbl' and contains(sql, 'GENERATED');;
SELECT sql FROM sqlite_master WHERE name = 'non_generated' and contains(sql, 'GENERATED');;
SELECT sql FROM sqlite_master WHERE name = 'non_generated' and contains(sql, 'GENERATED');;
;
SELECT sql FROM sqlite_master WHERE name = 'non_generated' and contains(sql, 'GENERATED');;
SELECT "sql" FROM sqlite_master WHERE (("name" = 'non_generated') AND contains("sql", 'GENERATED'));
;
;
;
;
SELECT sql FROM sqlite_master WHERE name = 'non_generated' and contains(sql, 'GENERATED');;
select * from tbl;;
select * from tbl;;
;
select * from tbl;;
SELECT * FROM tbl;
;
;
;
;
select * from tbl;;
select * from non_generated;;
select * from non_generated;;
;
select * from non_generated;;
SELECT * FROM non_generated;
;
;
;
;
select * from non_generated;;
select count(*), foobar, foo, last(foo), avg(bar), count(bar) from tbl group by bar, foobar, foo order by all;;
select count(*), foobar, foo, last(foo), avg(bar), count(bar) from tbl group by bar, foobar, foo order by all;;
;
select count(*), foobar, foo, last(foo), avg(bar), count(bar) from tbl group by bar, foobar, foo order by all;;
SELECT count_star(), foobar, foo, last(foo), avg(bar), count(bar) FROM tbl GROUP BY bar, foobar, foo ORDER BY COLUMNS(*);
;
;
;
;
select count(*), foobar, foo, last(foo), avg(bar), count(bar) from tbl group by bar, foobar, foo order by all;;
select count(*), last(foo), avg(bar), count(bar) from tbl group by bar order by all;;
select count(*), last(foo), avg(bar), count(bar) from tbl group by bar order by all;;
;
select count(*), last(foo), avg(bar), count(bar) from tbl group by bar order by all;;
SELECT count_star(), last(foo), avg(bar), count(bar) FROM tbl GROUP BY bar ORDER BY COLUMNS(*);
;
;
;
;
select count(*), last(foo), avg(bar), count(bar) from tbl group by bar order by all;;
select count(bar order by foobar desc), count(bar), count(distinct bar), avg(bar) from tbl group by foo, foobar order by all;;
select count(bar order by foobar desc), count(bar), count(distinct bar), avg(bar) from tbl group by foo, foobar order by all;;
;
select count(bar order by foobar desc), count(bar), count(distinct bar), avg(bar) from tbl group by foo, foobar order by all;;
SELECT count(bar ORDER BY foobar DESC), count(bar), count(DISTINCT bar), avg(bar) FROM tbl GROUP BY foo, foobar ORDER BY COLUMNS(*);
;
;
;
;
select count(bar order by foobar desc), count(bar), count(distinct bar), avg(bar) from tbl group by foo, foobar order by all;;
select count(bar order by foo asc), count(distinct bar) filter ((foo+1) != bar) from tbl group by foo order by all;;
select count(bar order by foo asc), count(distinct bar) filter ((foo+1) != bar) from tbl group by foo order by all;;
;
select count(bar order by foo asc), count(distinct bar) filter ((foo+1) != bar) from tbl group by foo order by all;;
SELECT count(bar ORDER BY foo ASC), count(DISTINCT bar) FILTER (WHERE ((foo + 1) != bar)) FROM tbl GROUP BY foo ORDER BY COLUMNS(*);
;
;
;
;
select count(bar order by foo asc), count(distinct bar) filter ((foo+1) != bar) from tbl group by foo order by all;;
select count(foo), count(foobar), bar from tbl group by CUBE(foo, foobar, bar), bar, foo, CUBE(foo) order by all;;
select count(foo), count(foobar), bar from tbl group by CUBE(foo, foobar, bar), bar, foo, CUBE(foo) order by all;;
;
select count(foo), count(foobar), bar from tbl group by CUBE(foo, foobar, bar), bar, foo, CUBE(foo) order by all;;
SELECT count(foo), count(foobar), bar FROM tbl GROUP BY GROUPING SETS ((foo, bar),(foo, bar),(foo, bar),(foo, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, bar),(foo, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, bar),(foo, bar)) ORDER BY COLUMNS(*);
;
;
;
;
select count(foo), count(foobar), bar from tbl group by CUBE(foo, foobar, bar), bar, foo, CUBE(foo) order by all;;
select count(*), foobar, foo, last(foo), avg(bar), count(bar) from non_generated group by bar, foobar, foo order by all;;
select count(*), foobar, foo, last(foo), avg(bar), count(bar) from non_generated group by bar, foobar, foo order by all;;
;
select count(*), foobar, foo, last(foo), avg(bar), count(bar) from non_generated group by bar, foobar, foo order by all;;
SELECT count_star(), foobar, foo, last(foo), avg(bar), count(bar) FROM non_generated GROUP BY bar, foobar, foo ORDER BY COLUMNS(*);
;
;
;
;
select count(*), foobar, foo, last(foo), avg(bar), count(bar) from non_generated group by bar, foobar, foo order by all;;
select count(*), last(foo), avg(bar), count(bar) from non_generated group by bar order by all;;
select count(*), last(foo), avg(bar), count(bar) from non_generated group by bar order by all;;
;
select count(*), last(foo), avg(bar), count(bar) from non_generated group by bar order by all;;
SELECT count_star(), last(foo), avg(bar), count(bar) FROM non_generated GROUP BY bar ORDER BY COLUMNS(*);
;
;
;
;
select count(*), last(foo), avg(bar), count(bar) from non_generated group by bar order by all;;
select count(bar order by foobar desc), count(bar), count(distinct bar), avg(bar) from non_generated group by foo, foobar order by all;;
select count(bar order by foobar desc), count(bar), count(distinct bar), avg(bar) from non_generated group by foo, foobar order by all;;
;
select count(bar order by foobar desc), count(bar), count(distinct bar), avg(bar) from non_generated group by foo, foobar order by all;;
SELECT count(bar ORDER BY foobar DESC), count(bar), count(DISTINCT bar), avg(bar) FROM non_generated GROUP BY foo, foobar ORDER BY COLUMNS(*);
;
;
;
;
select count(bar order by foobar desc), count(bar), count(distinct bar), avg(bar) from non_generated group by foo, foobar order by all;;
select count(bar order by foo asc), count(distinct bar) filter ((foo+1) != bar) from non_generated group by foo order by all;;
select count(bar order by foo asc), count(distinct bar) filter ((foo+1) != bar) from non_generated group by foo order by all;;
;
select count(bar order by foo asc), count(distinct bar) filter ((foo+1) != bar) from non_generated group by foo order by all;;
SELECT count(bar ORDER BY foo ASC), count(DISTINCT bar) FILTER (WHERE ((foo + 1) != bar)) FROM non_generated GROUP BY foo ORDER BY COLUMNS(*);
;
;
;
;
select count(bar order by foo asc), count(distinct bar) filter ((foo+1) != bar) from non_generated group by foo order by all;;
select count(foo), count(foobar), bar from non_generated group by CUBE(foo, foobar, bar), bar, foo, CUBE(foo) order by all;;
select count(foo), count(foobar), bar from non_generated group by CUBE(foo, foobar, bar), bar, foo, CUBE(foo) order by all;;
;
select count(foo), count(foobar), bar from non_generated group by CUBE(foo, foobar, bar), bar, foo, CUBE(foo) order by all;;
SELECT count(foo), count(foobar), bar FROM non_generated GROUP BY GROUPING SETS ((foo, bar),(foo, bar),(foo, bar),(foo, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, bar),(foo, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, foobar, bar),(foo, bar),(foo, bar)) ORDER BY COLUMNS(*);
;
;
;
;
select count(foo), count(foobar), bar from non_generated group by CUBE(foo, foobar, bar), bar, foo, CUBE(foo) order by all;;
