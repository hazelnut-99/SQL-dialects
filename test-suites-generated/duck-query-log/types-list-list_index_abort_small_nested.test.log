PRAGMA enable_verification;
CREATE TABLE a(id INTEGER PRIMARY KEY, c INT[][]);;
INSERT INTO a VALUES (1, [[1, 2, 3], [4, 5]]);
BEGIN TRANSACTION;
INSERT INTO a SELECT i id, NULL c FROM range(2, 2500, 1) tbl(i);
INSERT INTO a VALUES (1, [[4, 5]]);
ROLLBACK;
SELECT c FROM a WHERE id=1;
SELECT c FROM a WHERE id=1;
;
SELECT c FROM a WHERE id=1;
SELECT c FROM a WHERE (id = 1);
;
;
;
;
SELECT c FROM a WHERE id=1;
SELECT * FROM a;
SELECT * FROM a;
;
SELECT * FROM a;
SELECT * FROM a;
;
;
;
;
SELECT * FROM a;
BEGIN TRANSACTION;
INSERT INTO a SELECT i id, [[-i], [i, 33]] c FROM range(-2, -2500, -1) tbl(i);
INSERT INTO a VALUES (1, [[4, 5]]);
ROLLBACK;
SELECT c FROM a WHERE id=1;
SELECT c FROM a WHERE id=1;
;
SELECT c FROM a WHERE id=1;
SELECT c FROM a WHERE (id = 1);
;
;
;
;
SELECT c FROM a WHERE id=1;
SELECT * FROM a;
SELECT * FROM a;
;
SELECT * FROM a;
SELECT * FROM a;
;
;
;
;
SELECT * FROM a;
BEGIN TRANSACTION;
INSERT INTO a SELECT i id, [[1, 2], [3, 4], [5, i, -33]] c FROM range(2500, 5000, 1) tbl(i);
INSERT INTO a VALUES (1, [[4, 5]]);
ROLLBACK;
SELECT c FROM a WHERE id=1;
SELECT c FROM a WHERE id=1;
;
SELECT c FROM a WHERE id=1;
SELECT c FROM a WHERE (id = 1);
;
;
;
;
SELECT c FROM a WHERE id=1;
SELECT * FROM a;
SELECT * FROM a;
;
SELECT * FROM a;
SELECT * FROM a;
;
;
;
;
SELECT * FROM a;
INSERT INTO a VALUES (2, [[4, 5]]);
INSERT INTO a VALUES (3, NULL);
INSERT INTO a VALUES (4, [NULL]);
INSERT INTO a VALUES (5, [[NULL], [NULL]]);
SELECT * FROM a;
SELECT * FROM a;
;
SELECT * FROM a;
SELECT * FROM a;
;
;
;
;
SELECT * FROM a;
