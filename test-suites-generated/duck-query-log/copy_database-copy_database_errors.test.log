PRAGMA enable_verification;
ATTACH DATABASE ':memory:' AS db1;;
ATTACH DATABASE ':memory:' AS db2;;
COPY FROM DATABASE db1 TO db2 (SCHEMA);
COPY FROM DATABASE db1 TO db2 (DATA);;
COPY FROM DATABASE db1 TO db2 (SCHEMA);
COPY FROM DATABASE db1 TO db2 (DATA);;
CREATE TABLE db1.test(a INTEGER, b INTEGER, c VARCHAR);;
INSERT INTO db1.test VALUES (42, 84, 'hello');
COPY FROM DATABASE db1 TO db1 (SCHEMA);
COPY FROM DATABASE db1 TO db1 (DATA);;
COPY FROM DATABASE db1 TO db1 (SCHEMA);
COPY FROM DATABASE db1 TO db1 (DATA);;
ATTACH DATABASE 'duckdb_unittest_tempdir/54938/read_only.db' AS read_only;
CREATE TABLE read_only.t(i INT);;
DETACH read_only;
ATTACH DATABASE 'duckdb_unittest_tempdir/54938/read_only.db' AS read_only (READ_ONLY);
COPY FROM DATABASE db1 TO read_only (SCHEMA);
COPY FROM DATABASE db1 TO read_only (DATA);;
COPY FROM DATABASE db1 TO read_only (SCHEMA);
COPY FROM DATABASE db1 TO read_only (DATA);;
COPY FROM DATABASE read_only TO db1 (SCHEMA);
COPY FROM DATABASE read_only TO db1 (DATA);;
COPY FROM DATABASE read_only TO db1 (SCHEMA);
COPY FROM DATABASE read_only TO db1 (DATA);;
