CREATE SEQUENCE seq;;
CREATE SEQUENCE seq;;
CREATE SEQUENCE IF NOT EXISTS seq;;
SELECT nextval('seq');
CREATE OR REPLACE SEQUENCE seq;
SELECT nextval('seq');
SELECT currval('seq');
SELECT currval('seq');
SELECT nextval('seq');
SELECT currval('seq');
SELECT currval('seq');
SELECT nextval('seq'), nextval('seq');;
SELECT nextval(NULL);
SELECT currval(NULL);
SELECT nextval(a) FROM (VALUES ('seq'), (NULL), ('seq')) tbl1(a);
SELECT currval(a) FROM (VALUES ('seq'), (NULL), ('seq')) tbl1(a);
CREATE SEQUENCE seq;;
DROP SEQUENCE seq;;
DROP SEQUENCE seq;;
DROP SEQUENCE IF EXISTS seq;;
CREATE SEQUENCE seq INCREMENT BY 2;;
SELECT nextval('seq');
SELECT nextval('"seq"');
SELECT currval('"seq"');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq MINVALUE 3;;
SELECT nextval('seq');
SELECT nextval('seq');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq MAXVALUE 2;;
SELECT nextval('seq');
SELECT nextval('seq');
SELECT nextval('seq');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq MAXVALUE 2 CYCLE;;
SELECT nextval('seq');
SELECT nextval('seq');
SELECT currval('seq');
SELECT nextval('seq');
SELECT currval('seq');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq MINVALUE 3 MAXVALUE 5 START WITH 4 CYCLE;;
SELECT nextval('seq');
SELECT currval('seq');
SELECT nextval('seq');
SELECT currval('seq');
SELECT nextval('seq');
SELECT currval('seq');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq INCREMENT BY -1 MINVALUE 0 MAXVALUE 2;;
SELECT nextval('seq');
SELECT nextval('seq');
SELECT nextval('seq');
SELECT currval('seq');
SELECT nextval('seq');
SELECT currval('seq');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq INCREMENT BY 1 MINVALUE 0 MAXVALUE 2;;
SELECT nextval('seq');
SELECT nextval('seq');
SELECT nextval('seq');
SELECT nextval('seq');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq INCREMENT 1 MAXVALUE 3 START 2 CYCLE;;
SELECT nextval('seq');
SELECT nextval('seq');
SELECT nextval('seq');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq INCREMENT -1 CYCLE;;
SELECT nextval('seq');
SELECT nextval('seq');
SELECT nextval('seq');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq INCREMENT -1 MINVALUE -2 CYCLE;;
SELECT nextval('seq');
SELECT nextval('seq');
SELECT nextval('seq');
DROP SEQUENCE seq;;
CREATE SCHEMA a;;
CREATE SCHEMA b;;
CREATE SEQUENCE a.seq;;
CREATE SEQUENCE b.seq;;
SELECT nextval('a.seq'), nextval('b.seq');;
SELECT currval('a.seq'), currval('b.seq');;
SELECT nextval('"a"."seq"'), nextval('"b".seq');;
SELECT currval('"a"."seq"'), currval('"b".seq');;
SELECT nextval('"a"."seq');;
SELECT nextval('a.b.c.d');;
CREATE SEQUENCE seq;;
CREATE SEQUENCE seq2;;
SELECT nextval('s'||'e'||'q');
DROP SEQUENCE seq;;
CREATE SEQUENCE seq;;
CREATE TABLE strings(s VARCHAR);;
INSERT INTO strings VALUES ('seq'), ('seq2');
SELECT s, nextval('seq') FROM strings;
SELECT s, currval('seq') FROM strings;
SELECT s, nextval(s) FROM strings;
SELECT s, currval(s) FROM strings;
INSERT INTO strings VALUES ('nonexistant_seq');
SELECT s, nextval(s) FROM strings;
CREATE SEQUENCE fresh;;
select currval('fresh');;
select nextval(1 + 1);;
select currval(true);;
