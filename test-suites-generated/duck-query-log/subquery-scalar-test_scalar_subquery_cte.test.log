PRAGMA enable_verification;
SELECT 1+(WITH cte AS (SELECT 1) SELECT * FROM cte);
SELECT 1+(WITH cte AS (SELECT 1) SELECT * FROM cte);
;
SELECT 1+(WITH cte AS (SELECT 1) SELECT * FROM cte);
SELECT (1 + (WITH cte AS (SELECT 1)SELECT * FROM cte));
;
;
;
;
SELECT 1+(WITH cte AS (SELECT 1) SELECT * FROM cte);
SELECT 1=(WITH cte AS (SELECT 1) SELECT * FROM cte);
SELECT 1=(WITH cte AS (SELECT 1) SELECT * FROM cte);
;
SELECT 1=(WITH cte AS (SELECT 1) SELECT * FROM cte);
SELECT (1 = (WITH cte AS (SELECT 1)SELECT * FROM cte));
;
;
;
;
SELECT 1=(WITH cte AS (SELECT 1) SELECT * FROM cte);
SELECT 1<>(WITH cte AS (SELECT 1) SELECT * FROM cte);
SELECT 1<>(WITH cte AS (SELECT 1) SELECT * FROM cte);
;
SELECT 1<>(WITH cte AS (SELECT 1) SELECT * FROM cte);
SELECT (1 != (WITH cte AS (SELECT 1)SELECT * FROM cte));
;
;
;
;
SELECT 1<>(WITH cte AS (SELECT 1) SELECT * FROM cte);
SELECT 1=(WITH cte AS (SELECT NULL) SELECT * FROM cte);
SELECT 1=(WITH cte AS (SELECT NULL) SELECT * FROM cte);
;
SELECT 1=(WITH cte AS (SELECT NULL) SELECT * FROM cte);
SELECT (1 = (WITH cte AS (SELECT NULL)SELECT * FROM cte));
;
;
;
;
SELECT 1=(WITH cte AS (SELECT NULL) SELECT * FROM cte);
SELECT NULL=(SELECT 1);
SELECT NULL=(SELECT 1);
;
SELECT NULL=(SELECT 1);
SELECT (NULL = (SELECT 1));
;
;
;
;
SELECT NULL=(SELECT 1);
SELECT (WITH cte AS (SELECT 42) SELECT * FROM cte);
SELECT (WITH cte AS (SELECT 42) SELECT * FROM cte);
;
SELECT (WITH cte AS (SELECT 42) SELECT * FROM cte);
SELECT (WITH cte AS (SELECT 42)SELECT * FROM cte);
;
;
;
;
SELECT (WITH cte AS (SELECT 42) SELECT * FROM cte);
SELECT (WITH cte1 AS (WITH cte2 AS (SELECT 42) SELECT * FROM cte2) SELECT * FROM cte1);
SELECT (WITH cte1 AS (WITH cte2 AS (SELECT 42) SELECT * FROM cte2) SELECT * FROM cte1);
;
SELECT (WITH cte1 AS (WITH cte2 AS (SELECT 42) SELECT * FROM cte2) SELECT * FROM cte1);
SELECT (WITH cte1 AS (WITH cte2 AS (SELECT 42)SELECT * FROM cte2)SELECT * FROM cte1);
;
;
;
;
SELECT (WITH cte1 AS (WITH cte2 AS (SELECT 42) SELECT * FROM cte2) SELECT * FROM cte1);
SELECT * FROM (WITH cte(x) AS (SELECT 42) SELECT x FROM cte) v1(a);;
SELECT * FROM (WITH cte(x) AS (SELECT 42) SELECT x FROM cte) v1(a);;
;
SELECT * FROM (WITH cte(x) AS (SELECT 42) SELECT x FROM cte) v1(a);;
SELECT * FROM (WITH cte (x) AS (SELECT 42)SELECT x FROM cte) AS v1(a);
;
;
;
;
SELECT * FROM (WITH cte(x) AS (SELECT 42) SELECT x FROM cte) v1(a);;
SELECT * FROM (WITH cte AS (SELECT 42, 41 AS x) SELECT * FROM cte) v1(a);;
SELECT * FROM (WITH cte AS (SELECT 42, 41 AS x) SELECT * FROM cte) v1(a);;
;
SELECT * FROM (WITH cte AS (SELECT 42, 41 AS x) SELECT * FROM cte) v1(a);;
SELECT * FROM (WITH cte AS (SELECT 42, 41 AS x)SELECT * FROM cte) AS v1(a);
;
;
;
;
SELECT * FROM (WITH cte AS (SELECT 42, 41 AS x) SELECT * FROM cte) v1(a);;
SELECT * FROM (WITH cte AS (SELECT 42, 41 AS x) SELECT * FROM cte) v1(a, b, c);;
SELECT * FROM (WITH cte AS (SELECT 42, 41 AS x) SELECT * FROM cte) v1(a, b, c);;
;
SELECT * FROM (WITH cte AS (SELECT 42, 41 AS x) SELECT * FROM cte) v1(a, b, c);;
SELECT * FROM (WITH cte AS (SELECT 42, 41 AS x) SELECT * FROM cte) v1(a, b, c);;
CREATE TABLE test (a INTEGER, b INTEGER);;
INSERT INTO test VALUES (11, 22);
INSERT INTO test VALUES (12, 21);
INSERT INTO test VALUES (13, 22);
SELECT (WITH cte AS (SELECT a * 42 FROM test) SELECT * FROM cte);
SELECT (WITH cte AS (SELECT a * 42 FROM test) SELECT * FROM cte);
;
SELECT (WITH cte AS (SELECT a * 42 FROM test) SELECT * FROM cte);
SELECT (WITH cte AS (SELECT (a * 42) FROM test)SELECT * FROM cte);
;
;
;
;
SELECT (WITH cte AS (SELECT a * 42 FROM test) SELECT * FROM cte);
SELECT a*(WITH cte AS (SELECT 42) SELECT * FROM cte) FROM test;
SELECT a*(WITH cte AS (SELECT 42) SELECT * FROM cte) FROM test;
;
SELECT a*(WITH cte AS (SELECT 42) SELECT * FROM cte) FROM test;
SELECT (a * (WITH cte AS (SELECT 42)SELECT * FROM cte)) FROM test;
;
;
;
;
SELECT a*(WITH cte AS (SELECT 42) SELECT * FROM cte) FROM test;
CREATE TABLE t1(a INTEGER, b INTEGER, c INTEGER, d INTEGER, e INTEGER);
INSERT INTO t1(e,c,b,d,a) VALUES(103,102,100,101,104);
INSERT INTO t1(a,c,d,e,b) VALUES(107,106,108,109,105);
SELECT c-(WITH cte AS (SELECT sum(c) FROM t1) SELECT * FROM cte) FROM t1;
SELECT c-(WITH cte AS (SELECT sum(c) FROM t1) SELECT * FROM cte) FROM t1;
;
SELECT c-(WITH cte AS (SELECT sum(c) FROM t1) SELECT * FROM cte) FROM t1;
SELECT (c - (WITH cte AS (SELECT sum(c) FROM t1)SELECT * FROM cte)) FROM t1;
;
;
;
;
SELECT c-(WITH cte AS (SELECT sum(c) FROM t1) SELECT * FROM cte) FROM t1;
SELECT CASE WHEN c>(WITH cte AS (SELECT sum(c)/count(*) FROM t1) SELECT * FROM cte) THEN a*2 ELSE b*10 END FROM t1;
SELECT CASE WHEN c>(WITH cte AS (SELECT sum(c)/count(*) FROM t1) SELECT * FROM cte) THEN a*2 ELSE b*10 END FROM t1;
;
SELECT CASE WHEN c>(WITH cte AS (SELECT sum(c)/count(*) FROM t1) SELECT * FROM cte) THEN a*2 ELSE b*10 END FROM t1;
SELECT CASE  WHEN ((c > (WITH cte AS (SELECT (sum(c) / count_star()) FROM t1)SELECT * FROM cte))) THEN ((a * 2)) ELSE (b * 10) END FROM t1;
;
;
;
;
SELECT CASE WHEN c>(WITH cte AS (SELECT sum(c)/count(*) FROM t1) SELECT * FROM cte) THEN a*2 ELSE b*10 END FROM t1;
SELECT a, (WITH cte AS (SELECT SUM(b) FROM test tsub WHERE test.a=tsub.a) SELECT * FROM cte) FROM test;
SELECT a, (WITH cte AS (SELECT SUM(b) FROM test tsub WHERE test.a=tsub.a) SELECT * FROM cte) FROM test;
;
SELECT a, (WITH cte AS (SELECT SUM(b) FROM test tsub WHERE test.a=tsub.a) SELECT * FROM cte) FROM test;
SELECT a, (WITH cte AS (SELECT sum(b) FROM test AS tsub WHERE (test.a = tsub.a))SELECT * FROM cte) FROM test;
;
;
;
;
SELECT a, (WITH cte AS (SELECT SUM(b) FROM test tsub WHERE test.a=tsub.a) SELECT * FROM cte) FROM test;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN 22 ELSE NULL END) SELECT * FROM cte) FROM test ORDER BY a;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN 22 ELSE NULL END) SELECT * FROM cte) FROM test ORDER BY a;
;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN 22 ELSE NULL END) SELECT * FROM cte) FROM test ORDER BY a;
SELECT a, (WITH cte AS (SELECT CASE  WHEN ((test.a = 11)) THEN (22) ELSE NULL END)SELECT * FROM cte) FROM test ORDER BY a;
;
;
;
;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN 22 ELSE NULL END) SELECT * FROM cte) FROM test ORDER BY a;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN b ELSE NULL END FROM test tsub) SELECT * FROM cte) FROM test ORDER BY a;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN b ELSE NULL END FROM test tsub) SELECT * FROM cte) FROM test ORDER BY a;
;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN b ELSE NULL END FROM test tsub) SELECT * FROM cte) FROM test ORDER BY a;
SELECT a, (WITH cte AS (SELECT CASE  WHEN ((test.a = 11)) THEN (b) ELSE NULL END FROM test AS tsub)SELECT * FROM cte) FROM test ORDER BY a;
;
;
;
;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN b ELSE NULL END FROM test tsub) SELECT * FROM cte) FROM test ORDER BY a;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN b ELSE NULL END FROM test tsub LIMIT 1) SELECT * FROM cte) FROM test ORDER BY a;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN b ELSE NULL END FROM test tsub LIMIT 1) SELECT * FROM cte) FROM test ORDER BY a;
;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN b ELSE NULL END FROM test tsub LIMIT 1) SELECT * FROM cte) FROM test ORDER BY a;
SELECT a, (WITH cte AS (SELECT CASE  WHEN ((test.a = 11)) THEN (b) ELSE NULL END FROM test AS tsub LIMIT 1)SELECT * FROM cte) FROM test ORDER BY a;
;
;
;
;
SELECT a, (WITH cte AS (SELECT CASE WHEN test.a=11 THEN b ELSE NULL END FROM test tsub LIMIT 1) SELECT * FROM cte) FROM test ORDER BY a;
SELECT * from test where a=(WITH cte AS (SELECT a FROM test t WHERE t.b=test.b) SELECT min(a) FROM cte);
SELECT * from test where a=(WITH cte AS (SELECT a FROM test t WHERE t.b=test.b) SELECT min(a) FROM cte);
;
SELECT * from test where a=(WITH cte AS (SELECT a FROM test t WHERE t.b=test.b) SELECT min(a) FROM cte);
SELECT * FROM test WHERE (a = (WITH cte AS (SELECT a FROM test AS t WHERE (t.b = test.b))SELECT min(a) FROM cte));
;
;
;
;
SELECT * from test where a=(WITH cte AS (SELECT a FROM test t WHERE t.b=test.b) SELECT min(a) FROM cte);
SELECT * FROM test WHERE EXISTS (WITH cte AS (SELECT * FROM test ts WHERE ts.a = test.a AND b>21) SELECT a FROM cte);
SELECT * FROM test WHERE EXISTS (WITH cte AS (SELECT * FROM test ts WHERE ts.a = test.a AND b>21) SELECT a FROM cte);
;
SELECT * FROM test WHERE EXISTS (WITH cte AS (SELECT * FROM test ts WHERE ts.a = test.a AND b>21) SELECT a FROM cte);
SELECT * FROM test WHERE EXISTS(WITH cte AS (SELECT * FROM test AS ts WHERE ((ts.a = test.a) AND (b > 21)))SELECT a FROM cte);
;
;
;
;
SELECT * FROM test WHERE EXISTS (WITH cte AS (SELECT * FROM test ts WHERE ts.a = test.a AND b>21) SELECT a FROM cte);
SELECT * FROM (WITH cte AS (SELECT 42 AS a, 44 AS a) SELECT * FROM cte) tbl1;
SELECT * FROM (WITH cte AS (SELECT 42 AS a, 44 AS a) SELECT * FROM cte) tbl1;
;
SELECT * FROM (WITH cte AS (SELECT 42 AS a, 44 AS a) SELECT * FROM cte) tbl1;
SELECT * FROM (WITH cte AS (SELECT 42 AS a, 44 AS a)SELECT * FROM cte) AS tbl1;
;
;
;
;
SELECT * FROM (WITH cte AS (SELECT 42 AS a, 44 AS a) SELECT * FROM cte) tbl1;
