PRAGMA enable_verification;
CREATE TABLE unit (
	price INTEGER,
	amount_sold INTEGER,
	total_profit AS (price * amount_sold),
	profit_total AS (total_profit * 5)
);;
INSERT INTO unit VALUES (5,4);
INSERT INTO unit VALUES (4,5);;
SELECT * FROM unit;;
SELECT * FROM unit;;
;
SELECT * FROM unit;;
SELECT * FROM unit;
;
;
;
;
SELECT * FROM unit;;
CREATE TABLE tbl2 (
	circular INTEGER AS (dependency),
	dependency INTEGER AS (circular)
);;
CREATE TABLE tbl2 (
	price INTEGER,
	circular AS (dependency * price),
	dependency AS (price),
);;
CREATE TABLE tbl3 (
	dependency INTEGER AS (price),
	price INTEGER,
	circular AS (dependency),
);;
CREATE TABLE tbl (
	price INTEGER,
	dependency INTEGER AS (price),
	circular AS (dependency * price),
);;
CREATE TABLE tbl4 (
	price INTEGER,
	dependency AS (price),
	depth1 AS (dependency),
	depth2 AS (price * dependency),
	depth3 AS (depth1 * depth2 * dependency),
	depth4 aS ((dependency * depth3) + depth1),
	depth5 AS (depth4 - (depth3 + depth2) + (dependency * depth1))
);;
INSERT INTO tbl4 VALUES (5);;
SELECT * FROM tbl4;;
SELECT * FROM tbl4;;
;
SELECT * FROM tbl4;;
SELECT * FROM tbl4;
;
;
;
;
SELECT * FROM tbl4;;
INSERT INTO tbl VALUES (5);;
SELECT * FROM tbl;;
SELECT * FROM tbl;;
;
SELECT * FROM tbl;;
SELECT * FROM tbl;
;
;
;
;
SELECT * FROM tbl;;
