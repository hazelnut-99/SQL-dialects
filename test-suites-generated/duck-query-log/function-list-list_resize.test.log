PRAGMA enable_verification;;
SELECT list_resize([1, 2, 4], 2);;
SELECT list_resize([1, 2, 4], 2);;
;
SELECT list_resize([1, 2, 4], 2);;
SELECT list_resize(main.list_value(1, 2, 4), 2);
;
;
;
;
SELECT list_resize([1, 2, 4], 2);;
create table tbl(a int[], b int);;
insert into tbl values ([5,4,3], 3);;
insert into tbl values ([1,2,3], 5);;
insert into tbl values (NULL, 8);;
insert into tbl values ([10,11,12], 2);;
select list_resize(a, b) from tbl;;
select list_resize(a, b) from tbl;;
;
select list_resize(a, b) from tbl;;
SELECT list_resize(a, b) FROM tbl;
;
;
;
;
select list_resize(a, b) from tbl;;
SELECT list_resize([], 2);;
SELECT list_resize([], 2);;
;
SELECT list_resize([], 2);;
SELECT list_resize(main.list_value(), 2);
;
;
;
;
SELECT list_resize([], 2);;
create table string_tbl(a string[], b int);;
insert into string_tbl values (['abc', 'def'], 3);;
insert into string_tbl values (['d', 'ef', 'ghij'], 8);;
insert into string_tbl values (['lmnopqrs'], 5);;
insert into string_tbl values (['here is a little story about a duck,', 'whose name is harold.', 'He is a cool duck who lives in a cool world'], 5);;
select list_resize(a, b) from string_tbl;;
select list_resize(a, b) from string_tbl;;
;
select list_resize(a, b) from string_tbl;;
SELECT list_resize(a, b) FROM string_tbl;
;
;
;
;
select list_resize(a, b) from string_tbl;;
SELECT list_resize(NULL, 1, 1);;
SELECT list_resize(NULL, 1, 1);;
;
SELECT list_resize(NULL, 1, 1);;
SELECT list_resize(NULL, 1, 1);
;
;
;
;
SELECT list_resize(NULL, 1, 1);;
SELECT list_resize(NULL, 2, NULL);;
SELECT list_resize(NULL, 2, NULL);;
;
SELECT list_resize(NULL, 2, NULL);;
SELECT list_resize(NULL, 2, NULL);
;
;
;
;
SELECT list_resize(NULL, 2, NULL);;
SELECT list_resize(NULL, NULL, NULL);;
SELECT list_resize(NULL, NULL, NULL);;
;
SELECT list_resize(NULL, NULL, NULL);;
SELECT list_resize(NULL, NULL, NULL);
;
;
;
;
SELECT list_resize(NULL, NULL, NULL);;
SELECT list_resize([1,2,3], NULL);;
SELECT list_resize([1,2,3], NULL);;
;
SELECT list_resize([1,2,3], NULL);;
SELECT list_resize(main.list_value(1, 2, 3), NULL);
;
;
;
;
SELECT list_resize([1,2,3], NULL);;
CREATE TABLE nulls(l INT[], b INT);;
INSERT INTO nulls VALUES ([1, 2, 3], 2), (NULL, 6), ([], 4), ([NULL, NULL, 5, 6, NULL], 6);;
SELECT list_resize(l, b) FROM nulls;;
SELECT list_resize(l, b) FROM nulls;;
;
SELECT list_resize(l, b) FROM nulls;;
SELECT list_resize(l, b) FROM "nulls";
;
;
;
;
SELECT list_resize(l, b) FROM nulls;;
select * from (SELECT list_resize(NULL, 1, 1));
select * from (SELECT list_resize(NULL, 1, 1));
;
select * from (SELECT list_resize(NULL, 1, 1));
SELECT * FROM (SELECT list_resize(NULL, 1, 1));
;
;
;
;
select * from (SELECT list_resize(NULL, 1, 1));
SELECT list_resize([[1], [1, 2], NULL, [NULL], [], [1, 2, 3]], 3);
SELECT list_resize([[1], [1, 2], NULL, [NULL], [], [1, 2, 3]], 3);
;
SELECT list_resize([[1], [1, 2], NULL, [NULL], [], [1, 2, 3]], 3);
SELECT list_resize(main.list_value(main.list_value(1), main.list_value(1, 2), NULL, main.list_value(NULL), main.list_value(), main.list_value(1, 2, 3)), 3);
;
;
;
;
SELECT list_resize([[1], [1, 2], NULL, [NULL], [], [1, 2, 3]], 3);
create table list_tbl(a int[][], b int);;
insert into list_tbl values ([[1, 2, 3], [4, 5, 6]], 3);;
insert into list_tbl values ([[7, 8, 9], [10, NULL, 6], [9, 8, 7]], 5);;
insert into list_tbl values ([[1, 2, 3], NULL, [4, 5, 6]], 2);;
select list_resize(a, b) from list_tbl;;
select list_resize(a, b) from list_tbl;;
;
select list_resize(a, b) from list_tbl;;
SELECT list_resize(a, b) FROM list_tbl;
;
;
;
;
select list_resize(a, b) from list_tbl;;
select list_resize([{'i': 1,'j': 2}, NULL, {'i': 3, 'j': 4}], 2);;
select list_resize([{'i': 1,'j': 2}, NULL, {'i': 3, 'j': 4}], 2);;
;
select list_resize([{'i': 1,'j': 2}, NULL, {'i': 3, 'j': 4}], 2);;
SELECT list_resize(main.list_value(main.struct_pack(i := 1, j := 2), NULL, main.struct_pack(i := 3, j := 4)), 2);
;
;
;
;
select list_resize([{'i': 1,'j': 2}, NULL, {'i': 3, 'j': 4}], 2);;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 4);;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 4);;
;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 4);;
SELECT list_resize(main.list_value(main.struct_pack(i := 1, j := main.list_value(2, 3)), NULL, main.struct_pack(i := 1, j := main.list_value(2, 3))), 4);
;
;
;
;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 4);;
select list_resize([{'i': 1,'j': [{'a': 1, 'b': 2}, {'a': 3, 'b': 4}]}, NULL, {'i': 1, 'j': [{'a': 1, 'b': 2}, {'a': 3, 'b': 4}]}], 4);;
select list_resize([{'i': 1,'j': [{'a': 1, 'b': 2}, {'a': 3, 'b': 4}]}, NULL, {'i': 1, 'j': [{'a': 1, 'b': 2}, {'a': 3, 'b': 4}]}], 4);;
;
select list_resize([{'i': 1,'j': [{'a': 1, 'b': 2}, {'a': 3, 'b': 4}]}, NULL, {'i': 1, 'j': [{'a': 1, 'b': 2}, {'a': 3, 'b': 4}]}], 4);;
SELECT list_resize(main.list_value(main.struct_pack(i := 1, j := main.list_value(main.struct_pack(a := 1, b := 2), main.struct_pack(a := 3, b := 4))), NULL, main.struct_pack(i := 1, j := main.list_value(main.struct_pack(a := 1, b := 2), main.struct_pack(a := 3, b := 4)))), 4);
;
;
;
;
select list_resize([{'i': 1,'j': [{'a': 1, 'b': 2}, {'a': 3, 'b': 4}]}, NULL, {'i': 1, 'j': [{'a': 1, 'b': 2}, {'a': 3, 'b': 4}]}], 4);;
select list_resize([{'i': 1,'j': [{'a': 1, 'b': [2, 3]}, {'a': 3, 'b': [4, 5]}]}, NULL, {'i': 1, 'j': [{'a': 1, 'b': [2, 3]}, {'a': 3, 'b': [4, 5]}]}], 4);;
select list_resize([{'i': 1,'j': [{'a': 1, 'b': [2, 3]}, {'a': 3, 'b': [4, 5]}]}, NULL, {'i': 1, 'j': [{'a': 1, 'b': [2, 3]}, {'a': 3, 'b': [4, 5]}]}], 4);;
;
select list_resize([{'i': 1,'j': [{'a': 1, 'b': [2, 3]}, {'a': 3, 'b': [4, 5]}]}, NULL, {'i': 1, 'j': [{'a': 1, 'b': [2, 3]}, {'a': 3, 'b': [4, 5]}]}], 4);;
SELECT list_resize(main.list_value(main.struct_pack(i := 1, j := main.list_value(main.struct_pack(a := 1, b := main.list_value(2, 3)), main.struct_pack(a := 3, b := main.list_value(4, 5)))), NULL, main.struct_pack(i := 1, j := main.list_value(main.struct_pack(a := 1, b := main.list_value(2, 3)), main.struct_pack(a := 3, b := main.list_value(4, 5))))), 4);
;
;
;
;
select list_resize([{'i': 1,'j': [{'a': 1, 'b': [2, 3]}, {'a': 3, 'b': [4, 5]}]}, NULL, {'i': 1, 'j': [{'a': 1, 'b': [2, 3]}, {'a': 3, 'b': [4, 5]}]}], 4);;
select list_resize([[[1, 2, 3], [4, 5, 6]], [[ 7, 8, 9 ]], [[10, 11, 12], [13, 14, 15]]], 2);;
select list_resize([[[1, 2, 3], [4, 5, 6]], [[ 7, 8, 9 ]], [[10, 11, 12], [13, 14, 15]]], 2);;
;
select list_resize([[[1, 2, 3], [4, 5, 6]], [[ 7, 8, 9 ]], [[10, 11, 12], [13, 14, 15]]], 2);;
SELECT list_resize(main.list_value(main.list_value(main.list_value(1, 2, 3), main.list_value(4, 5, 6)), main.list_value(main.list_value(7, 8, 9)), main.list_value(main.list_value(10, 11, 12), main.list_value(13, 14, 15))), 2);
;
;
;
;
select list_resize([[[1, 2, 3], [4, 5, 6]], [[ 7, 8, 9 ]], [[10, 11, 12], [13, 14, 15]]], 2);;
select list_resize([[[1, 2, 3], [4, 5, 6]], [[ 7, 8, 9 ], NULL], NULL, [NULL], [[10, 11, 12], [13, 14, 15]]], 8);;
select list_resize([[[1, 2, 3], [4, 5, 6]], [[ 7, 8, 9 ], NULL], NULL, [NULL], [[10, 11, 12], [13, 14, 15]]], 8);;
;
select list_resize([[[1, 2, 3], [4, 5, 6]], [[ 7, 8, 9 ], NULL], NULL, [NULL], [[10, 11, 12], [13, 14, 15]]], 8);;
SELECT list_resize(main.list_value(main.list_value(main.list_value(1, 2, 3), main.list_value(4, 5, 6)), main.list_value(main.list_value(7, 8, 9), NULL), NULL, main.list_value(NULL), main.list_value(main.list_value(10, 11, 12), main.list_value(13, 14, 15))), 8);
;
;
;
;
select list_resize([[[1, 2, 3], [4, 5, 6]], [[ 7, 8, 9 ], NULL], NULL, [NULL], [[10, 11, 12], [13, 14, 15]]], 8);;
select list_resize([1, 2, 3], len(list_resize([1, 2, 3], 2)));;
select list_resize([1, 2, 3], len(list_resize([1, 2, 3], 2)));;
;
select list_resize([1, 2, 3], len(list_resize([1, 2, 3], 2)));;
SELECT list_resize(main.list_value(1, 2, 3), len(list_resize(main.list_value(1, 2, 3), 2)));
;
;
;
;
select list_resize([1, 2, 3], len(list_resize([1, 2, 3], 2)));;
select list_resize(list_filter([1, 2, 3, 4, 5, 6], x -> x > 1), 4);;
select list_resize(list_filter([1, 2, 3, 4, 5, 6], x -> x > 1), 4);;
;
select list_resize(list_filter([1, 2, 3, 4, 5, 6], x -> x > 1), 4);;
SELECT list_resize(list_filter(main.list_value(1, 2, 3, 4, 5, 6), (x -> (x > 1))), 4);
;
;
;
;
select list_resize(list_filter([1, 2, 3, 4, 5, 6], x -> x > 1), 4);;
SELECT list_resize([1, 2], 3, 4);
SELECT list_resize([1, 2], 3, 4);
;
SELECT list_resize([1, 2], 3, 4);
SELECT list_resize(main.list_value(1, 2), 3, 4);
;
;
;
;
SELECT list_resize([1, 2], 3, 4);
create table def(tbl int[], b int, d int);;
insert into def values ([1, 2, 3], 5, 4);;
insert into def values ([4, 5, 6], 6, NULL);;
insert into def values ([7, 8, NULL], 3, 10);;
select list_resize(tbl, b, d) from def;;
select list_resize(tbl, b, d) from def;;
;
select list_resize(tbl, b, d) from def;;
SELECT list_resize(tbl, b, d) FROM def;
;
;
;
;
select list_resize(tbl, b, d) from def;;
SELECT list_resize([1, 2], 3, NULL);
SELECT list_resize([1, 2], 3, NULL);
;
SELECT list_resize([1, 2], 3, NULL);
SELECT list_resize(main.list_value(1, 2), 3, NULL);
;
;
;
;
SELECT list_resize([1, 2], 3, NULL);
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 4, {'i': 5, 'j': [10, 10]});;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 4, {'i': 5, 'j': [10, 10]});;
;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 4, {'i': 5, 'j': [10, 10]});;
SELECT list_resize(main.list_value(main.struct_pack(i := 1, j := main.list_value(2, 3)), NULL, main.struct_pack(i := 1, j := main.list_value(2, 3))), 4, main.struct_pack(i := 5, j := main.list_value(10, 10)));
;
;
;
;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 4, {'i': 5, 'j': [10, 10]});;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 6, NULL);;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 6, NULL);;
;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 6, NULL);;
SELECT list_resize(main.list_value(main.struct_pack(i := 1, j := main.list_value(2, 3)), NULL, main.struct_pack(i := 1, j := main.list_value(2, 3))), 6, NULL);
;
;
;
;
select list_resize([{'i': 1,'j': [2, 3]}, NULL, {'i': 1, 'j': [2, 3]}], 6, NULL);;
SELECT list_resize(range(10000), 4000);;
SELECT list_resize(range(10000), 4000);;
;
SELECT list_resize(range(10000), 4000);;
SELECT list_resize(range(10000), 4000);
;
;
;
;
SELECT list_resize(range(10000), 4000);;
SELECT list_resize([1, 2, 3], 4000);;
SELECT list_resize([1, 2, 3], 4000);;
;
SELECT list_resize([1, 2, 3], 4000);;
SELECT list_resize(main.list_value(1, 2, 3), 4000);
;
;
;
;
SELECT list_resize([1, 2, 3], 4000);;
CREATE TABLE bool_table(a bool[], b int);;
INSERT INTO bool_table VALUES ([true, false, true], 1);;
INSERT INTO bool_table VALUES ([false, true, false], 2);;
INSERT INTO bool_table VALUES ([true, true, NULL], 3);;
SELECT list_resize(a, b) FROM bool_table;;
SELECT list_resize(a, b) FROM bool_table;;
;
SELECT list_resize(a, b) FROM bool_table;;
SELECT list_resize(a, b) FROM bool_table;
;
;
;
;
SELECT list_resize(a, b) FROM bool_table;;
SELECT list_resize([true], 2);;
SELECT list_resize([true], 2);;
;
SELECT list_resize([true], 2);;
SELECT list_resize(main.list_value(CAST('t' AS BOOLEAN)), 2);
;
;
;
;
SELECT list_resize([true], 2);;
SELECT list_resize([false], 2);;
SELECT list_resize([false], 2);;
;
SELECT list_resize([false], 2);;
SELECT list_resize(main.list_value(CAST('f' AS BOOLEAN)), 2);
;
;
;
;
SELECT list_resize([false], 2);;
SELECT list_resize([NULL], 2);;
SELECT list_resize([NULL], 2);;
;
SELECT list_resize([NULL], 2);;
SELECT list_resize(main.list_value(NULL), 2);
;
;
;
;
SELECT list_resize([NULL], 2);;
prepare q1 as select list_resize(?, ?);;
prepare q2 as select array_resize(?, ?);;
execute q1([1, 2, 3], 4);;
execute q1([1, 2, 3], 2);;
execute q1([1, 2, 3], 0);;
execute q1([1, 2, 3], NULL);;
execute q1([1, 2, 3], 1.4);;
execute q1([2], 2::TINYINT);;
execute q2([1, 2, 3], 4);;
execute q2([1, 2, 3], 2);;
execute q2([1, 2, 3], 0);;
execute q2([1, 2, 3], NULL);;
execute q2([1, 2, 3], 1.4);;
execute q2([2], 2::TINYINT);;
SELECT list_resize([1, 2, 3]::BIGINT[], 5, 42);;
SELECT list_resize([1, 2, 3]::BIGINT[], 5, 42);;
;
SELECT list_resize([1, 2, 3]::BIGINT[], 5, 42);;
SELECT list_resize(CAST(main.list_value(1, 2, 3) AS BIGINT[]), 5, 42);
;
;
;
;
SELECT list_resize([1, 2, 3]::BIGINT[], 5, 42);;
