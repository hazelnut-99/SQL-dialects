SELECT union_tag(1);;
SELECT union_tag(1::UNION(a INT, b VARCHAR));;
CREATE TABLE tbl1 (u UNION(a INT, b FLOAT, c VARCHAR));;
INSERT INTO tbl1 VALUES (1), ('text'), (2.0);;
SELECT union_tag(u) FROM tbl1;
SELECT u FROM tbl1;;
SELECT union_tag(u) FROM tbl1 WHERE u = (1::UNION(a INT, b FLOAT, c VARCHAR));;
SELECT enum_first(union_tag(u)) FROM tbl1 LIMIT 1;;
SELECT enum_last(union_tag(u)) FROM tbl1 LIMIT 1;;
SELECT enum_range(union_tag(u)) FROM tbl1 LIMIT 1;;
SELECT union_tag('foo'::UNION(num INT, str VARCHAR));
PREPARE p1 as SELECT union_tag(u) FROM tbl1;;
EXECUTE p1;;
PREPARE p2 as SELECT union_tag(?);;
EXECUTE p2(1);;
EXECUTE p2('woo'::UNION(a INT, b VARCHAR));;
