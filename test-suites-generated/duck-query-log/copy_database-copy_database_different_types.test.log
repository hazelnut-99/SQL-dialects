ATTACH DATABASE ':memory:' AS db1;;
USE db1;
CREATE TABLE test(a INTEGER, b INTEGER, c VARCHAR(10));;
INSERT INTO test VALUES (42, 88, 'hello');;
CREATE VIEW v1 AS FROM test;;
CREATE TYPE mood AS ENUM('ok', 'sad', 'happy');;
CREATE TABLE enums(i mood);
INSERT INTO enums VALUES ('ok'), ('sad'), (NULL);
CREATE SEQUENCE seq;;
SELECT nextval('seq');
CREATE FUNCTION my_add(a, b) AS a + b;
COPY FROM DATABASE db1 TO memory (SCHEMA);
COPY FROM DATABASE db1 TO memory (DATA);;
COPY FROM DATABASE db1 TO memory (SCHEMA);
COPY FROM DATABASE db1 TO memory (DATA);;
USE memory;
SELECT * FROM test;;
SELECT * FROM enums;;
SELECT * FROM v1;;
INSERT INTO test VALUES (43, 88, 'hello');;
SELECT * FROM v1;;
SELECT nextval('seq');
SELECT my_add(1, 2);
