SET default_null_order='nulls_first';
PRAGMA enable_verification
CREATE TABLE test(a INTEGER);
CREATE TABLE test2(b INTEGER);
INSERT INTO test VALUES (1), (2), (3), (NULL);
INSERT INTO test2 VALUES (2), (3), (4), (NULL);
(SELECT a FROM test ORDER BY a+1) UNION SELECT b FROM test2 ORDER BY 1;
(SELECT a FROM test ORDER BY a+1) UNION SELECT b FROM test2 ORDER BY 1;

(SELECT a FROM test ORDER BY a+1) UNION SELECT b FROM test2 ORDER BY 1;
(SELECT a FROM test ORDER BY (a + 1)) UNION (SELECT b FROM test2) ORDER BY 1




(SELECT a FROM test ORDER BY a+1) UNION SELECT b FROM test2 ORDER BY 1;
SELECT * FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;
SELECT * FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;

SELECT * FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;
SELECT * FROM ((SELECT * FROM test) UNION (SELECT * FROM test2)) AS res ORDER BY 1



SELECT * FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;
SELECT a FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;
SELECT a FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;

SELECT a FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;
SELECT a FROM ((SELECT * FROM test) UNION (SELECT * FROM test2)) AS res ORDER BY 1



SELECT a FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;
SELECT b FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;
SELECT b FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;

SELECT b FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;
SELECT b FROM (SELECT * FROM test UNION SELECT * FROM test2) res ORDER BY 1;
SELECT b FROM (SELECT * FROM test2 UNION SELECT * FROM test) res ORDER BY 1;
SELECT b FROM (SELECT * FROM test2 UNION SELECT * FROM test) res ORDER BY 1;

SELECT b FROM (SELECT * FROM test2 UNION SELECT * FROM test) res ORDER BY 1;
SELECT b FROM ((SELECT * FROM test2) UNION (SELECT * FROM test)) AS res ORDER BY 1



SELECT b FROM (SELECT * FROM test2 UNION SELECT * FROM test) res ORDER BY 1;
SELECT col1 FROM (SELECT * FROM test2 UNION SELECT * FROM test) res(col1) ORDER BY 1;
SELECT col1 FROM (SELECT * FROM test2 UNION SELECT * FROM test) res(col1) ORDER BY 1;

SELECT col1 FROM (SELECT * FROM test2 UNION SELECT * FROM test) res(col1) ORDER BY 1;
SELECT col1 FROM ((SELECT * FROM test2) UNION (SELECT * FROM test)) AS res(col1) ORDER BY 1



SELECT col1 FROM (SELECT * FROM test2 UNION SELECT * FROM test) res(col1) ORDER BY 1;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY a;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY a;

SELECT a FROM test UNION SELECT b FROM test2 ORDER BY a;
(SELECT a FROM test) UNION (SELECT b FROM test2) ORDER BY a




SELECT a FROM test UNION SELECT b FROM test2 ORDER BY a;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY b;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY b;

SELECT a FROM test UNION SELECT b FROM test2 ORDER BY b;
(SELECT a FROM test) UNION (SELECT b FROM test2) ORDER BY b




SELECT a FROM test UNION SELECT b FROM test2 ORDER BY b;
SELECT 1, a FROM test UNION SELECT b AS a, 1 FROM test2 ORDER BY a, 1;
SELECT 1, a FROM test UNION SELECT b AS a, 1 FROM test2 ORDER BY a, 1;

SELECT 1, a FROM test UNION SELECT b AS a, 1 FROM test2 ORDER BY a, 1;
(SELECT 1, a FROM test) UNION (SELECT b AS a, 1 FROM test2) ORDER BY a, 1




SELECT 1, a FROM test UNION SELECT b AS a, 1 FROM test2 ORDER BY a, 1;
SELECT 1, a+1 FROM test UNION SELECT a+1, 1 FROM test ORDER BY a+1;
SELECT 1, a+1 FROM test UNION SELECT a+1, 1 FROM test ORDER BY a+1;

SELECT 1, a+1 FROM test UNION SELECT a+1, 1 FROM test ORDER BY a+1;
SELECT 1, a+1 FROM test UNION SELECT a+1, 1 FROM test ORDER BY a+1;
SELECT a FROM test UNION SELECT b FROM test2 UNION SELECT b AS c FROM test2 ORDER BY c;
SELECT a FROM test UNION SELECT b FROM test2 UNION SELECT b AS c FROM test2 ORDER BY c;

SELECT a FROM test UNION SELECT b FROM test2 UNION SELECT b AS c FROM test2 ORDER BY c;
((SELECT a FROM test) UNION (SELECT b FROM test2)) UNION (SELECT b AS c FROM test2) ORDER BY c




SELECT a FROM test UNION SELECT b FROM test2 UNION SELECT b AS c FROM test2 ORDER BY c;
SELECT a FROM test UNION SELECT b FROM test2 UNION SELECT b + 1 FROM test2 ORDER BY b + 1;
SELECT a FROM test UNION SELECT b FROM test2 UNION SELECT b + 1 FROM test2 ORDER BY b + 1;

SELECT a FROM test UNION SELECT b FROM test2 UNION SELECT b + 1 FROM test2 ORDER BY b + 1;
((SELECT a FROM test) UNION (SELECT b FROM test2)) UNION (SELECT (b + 1) FROM test2) ORDER BY (b + 1)




SELECT a FROM test UNION SELECT b FROM test2 UNION SELECT b + 1 FROM test2 ORDER BY b + 1;
SELECT a, 10 - a AS b FROM test UNION SELECT b, b + 1 FROM test2 ORDER BY 2;
SELECT a, 10 - a AS b FROM test UNION SELECT b, b + 1 FROM test2 ORDER BY 2;

SELECT a, 10 - a AS b FROM test UNION SELECT b, b + 1 FROM test2 ORDER BY 2;
(SELECT a, (10 - a) AS b FROM test) UNION (SELECT b, (b + 1) FROM test2) ORDER BY 2




SELECT a, 10 - a AS b FROM test UNION SELECT b, b + 1 FROM test2 ORDER BY 2;
SELECT a, 10 - a AS b FROM test UNION SELECT b, b + 1 FROM test2 ORDER BY b;
SELECT a, 10 - a AS b FROM test UNION SELECT b, b + 1 FROM test2 ORDER BY b;

SELECT a, 10 - a AS b FROM test UNION SELECT b, b + 1 FROM test2 ORDER BY b;
(SELECT a, (10 - a) AS b FROM test) UNION (SELECT b, (b + 1) FROM test2) ORDER BY b




SELECT a, 10 - a AS b FROM test UNION SELECT b, b + 1 FROM test2 ORDER BY b;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY 1;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY 1;

SELECT a FROM test UNION SELECT b FROM test2 ORDER BY 1;
(SELECT a FROM test) UNION (SELECT b FROM test2) ORDER BY 1



SELECT a FROM test UNION SELECT b FROM test2 ORDER BY 1;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY 2;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY 2;

SELECT a FROM test UNION SELECT b FROM test2 ORDER BY 2;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY 2;
(SELECT a FROM test ORDER BY a+1) UNION SELECT b FROM test2 ORDER BY 1;
(SELECT a FROM test ORDER BY a+1) UNION SELECT b FROM test2 ORDER BY 1;

(SELECT a FROM test ORDER BY a+1) UNION SELECT b FROM test2 ORDER BY 1;
(SELECT a FROM test ORDER BY (a + 1)) UNION (SELECT b FROM test2) ORDER BY 1




(SELECT a FROM test ORDER BY a+1) UNION SELECT b FROM test2 ORDER BY 1;
SELECT * FROM test UNION SELECT * FROM test2 ORDER BY a;
SELECT * FROM test UNION SELECT * FROM test2 ORDER BY a;

SELECT * FROM test UNION SELECT * FROM test2 ORDER BY a;
(SELECT * FROM test) UNION (SELECT * FROM test2) ORDER BY a




SELECT * FROM test UNION SELECT * FROM test2 ORDER BY a;
SELECT * FROM test UNION SELECT * FROM test2 ORDER BY b;
SELECT * FROM test UNION SELECT * FROM test2 ORDER BY b;

SELECT * FROM test UNION SELECT * FROM test2 ORDER BY b;
(SELECT * FROM test) UNION (SELECT * FROM test2) ORDER BY b




SELECT * FROM test UNION SELECT * FROM test2 ORDER BY b;
SELECT a FROM test UNION SELECT * FROM test2 ORDER BY test.a;
SELECT a FROM test UNION SELECT * FROM test2 ORDER BY test.a;

SELECT a FROM test UNION SELECT * FROM test2 ORDER BY test.a;
(SELECT a FROM test) UNION (SELECT * FROM test2) ORDER BY test.a




SELECT a FROM test UNION SELECT * FROM test2 ORDER BY test.a;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY test2.b;
SELECT a FROM test UNION SELECT b FROM test2 ORDER BY test2.b;

SELECT a FROM test UNION SELECT b FROM test2 ORDER BY test2.b;
(SELECT a FROM test) UNION (SELECT b FROM test2) ORDER BY test2.b




SELECT a FROM test UNION SELECT b FROM test2 ORDER BY test2.b;
SELECT test.a FROM test UNION SELECT * FROM test2 ORDER BY a;
SELECT test.a FROM test UNION SELECT * FROM test2 ORDER BY a;

SELECT test.a FROM test UNION SELECT * FROM test2 ORDER BY a;
(SELECT test.a FROM test) UNION (SELECT * FROM test2) ORDER BY a




SELECT test.a FROM test UNION SELECT * FROM test2 ORDER BY a;
SELECT test.a FROM test UNION SELECT test2.b FROM test2 ORDER BY b;
SELECT test.a FROM test UNION SELECT test2.b FROM test2 ORDER BY b;

SELECT test.a FROM test UNION SELECT test2.b FROM test2 ORDER BY b;
(SELECT test.a FROM test) UNION (SELECT test2.b FROM test2) ORDER BY b




SELECT test.a FROM test UNION SELECT test2.b FROM test2 ORDER BY b;
SELECT a FROM test UNION SELECT * FROM test2 UNION SELECT * FROM test t1 ORDER BY test.a, test2.b, t1.a;
SELECT a FROM test UNION SELECT * FROM test2 UNION SELECT * FROM test t1 ORDER BY test.a, test2.b, t1.a;

SELECT a FROM test UNION SELECT * FROM test2 UNION SELECT * FROM test t1 ORDER BY test.a, test2.b, t1.a;
((SELECT a FROM test) UNION (SELECT * FROM test2)) UNION (SELECT * FROM test AS t1) ORDER BY test.a, test2.b, t1.a




SELECT a FROM test UNION SELECT * FROM test2 UNION SELECT * FROM test t1 ORDER BY test.a, test2.b, t1.a;
SELECT a FROM test UNION SELECT * FROM test2 UNION SELECT * FROM test t1 ORDER BY a;
SELECT a FROM test UNION SELECT * FROM test2 UNION SELECT * FROM test t1 ORDER BY a;

SELECT a FROM test UNION SELECT * FROM test2 UNION SELECT * FROM test t1 ORDER BY a;
((SELECT a FROM test) UNION (SELECT * FROM test2)) UNION (SELECT * FROM test AS t1) ORDER BY a




SELECT a FROM test UNION SELECT * FROM test2 UNION SELECT * FROM test t1 ORDER BY a;
SELECT a FROM (SELECT * FROM test) bla UNION SELECT * FROM test2 ORDER BY bla.a;
SELECT a FROM (SELECT * FROM test) bla UNION SELECT * FROM test2 ORDER BY bla.a;

SELECT a FROM (SELECT * FROM test) bla UNION SELECT * FROM test2 ORDER BY bla.a;
(SELECT a FROM (SELECT * FROM test) AS bla) UNION (SELECT * FROM test2) ORDER BY bla.a




SELECT a FROM (SELECT * FROM test) bla UNION SELECT * FROM test2 ORDER BY bla.a;
SELECT t1.a, t2.a FROM test t1, test t2 WHERE t1.a=t2.a UNION SELECT b, b - 1 FROM test2 ORDER BY t1.a, t2.a, test2.b;
SELECT t1.a, t2.a FROM test t1, test t2 WHERE t1.a=t2.a UNION SELECT b, b - 1 FROM test2 ORDER BY t1.a, t2.a, test2.b;

SELECT t1.a, t2.a FROM test t1, test t2 WHERE t1.a=t2.a UNION SELECT b, b - 1 FROM test2 ORDER BY t1.a, t2.a, test2.b;
(SELECT t1.a, t2.a FROM test AS t1 , test AS t2 WHERE (t1.a = t2.a)) UNION (SELECT b, (b - 1) FROM test2) ORDER BY t1.a, t2.a, test2.b




SELECT t1.a, t2.a FROM test t1, test t2 WHERE t1.a=t2.a UNION SELECT b, b - 1 FROM test2 ORDER BY t1.a, t2.a, test2.b;
SELECT NULL as a, NULL as b, 1 as id UNION SELECT CAST('2015-10-11 00:00:00' AS TIMESTAMP) as a, CAST('2015-10-11 12:34:56' AS TIMESTAMP) as b, 2 as id ORDER BY 3
SELECT NULL as a, NULL as b, 1 as id UNION SELECT CAST('2015-10-11 00:00:00' AS TIMESTAMP) as a, CAST('2015-10-11 12:34:56' AS TIMESTAMP) as b, 2 as id ORDER BY 3

SELECT NULL as a, NULL as b, 1 as id UNION SELECT CAST('2015-10-11 00:00:00' AS TIMESTAMP) as a, CAST('2015-10-11 12:34:56' AS TIMESTAMP) as b, 2 as id ORDER BY 3
(SELECT NULL AS a, NULL AS b, 1 AS id) UNION (SELECT CAST('2015-10-11 00:00:00' AS TIMESTAMP) AS a, CAST('2015-10-11 12:34:56' AS TIMESTAMP) AS b, 2 AS id) ORDER BY 3




SELECT NULL as a, NULL as b, 1 as id UNION SELECT CAST('2015-10-11 00:00:00' AS TIMESTAMP) as a, CAST('2015-10-11 12:34:56' AS TIMESTAMP) as b, 2 as id ORDER BY 3
