PRAGMA enable_verification;
CREATE TABLE tbl1 (
	a INTEGER UNIQUE,
);;
CREATE TABLE tbl2 (
	a INTEGER,
	b AS (a) REFERENCES tbl1(a),
);;
CREATE TABLE tbl2 (
	a INTEGER,
	b AS (a),
	FOREIGN KEY (b) REFERENCES tbl1 (a)
);;
CREATE TABLE tbl2 (
	price INTEGER,
	also_price AS (price) UNIQUE
);;
CREATE TABLE tbl2 (
	price INTEGER,
	also_price AS (price)
);;
CREATE TABLE tbl3 (
	a INTEGER,
	FOREIGN KEY (a) REFERENCES tbl2 (also_price)
);;
CREATE TABLE a (
	a_gen1 AS (a_reg),
	a_gen2 AS (a_reg),
	a_reg INTEGER,
	PRIMARY KEY (a_reg)
);;
CREATE TABLE b (
	gen1 AS (price),
	gen2 AS (price),
	price INTEGER,
	FOREIGN KEY (price) REFERENCES a (a_reg)
);;
INSERT INTO a VALUES (5);;
INSERT INTO a VALUES (5);;
