PRAGMA enable_verification;
CREATE TABLE unit (
	price INTEGER,
	amount_sold INTEGER,
	total_profit as (price * amount_sold),
	profit_total AS (total_profit),
	dependent AS (profit_total),
	also_dependent AS (profit_total * dependent),
	dont_delete_me AS (amount_sold),
);;
INSERT INTO unit VALUES (5,4);
SELECT * FROM unit;;
SELECT * FROM unit;;
;
SELECT * FROM unit;;
SELECT * FROM unit;
;
;
;
;
SELECT * FROM unit;;
ALTER TABLE unit DROP COLUMN price;;
ALTER TABLE unit DROP COLUMN price CASCADE;;
SELECT * FROM unit;;
SELECT * FROM unit;;
;
SELECT * FROM unit;;
SELECT * FROM unit;
;
;
;
;
SELECT * FROM unit;;
INSERT INTO unit VALUES (5);
SELECT * FROM unit;;
SELECT * FROM unit;;
;
SELECT * FROM unit;;
SELECT * FROM unit;
;
;
;
;
SELECT * FROM unit;;
ALTER TABLE unit DROP COLUMN dont_delete_me;;
SELECT * FROM unit;;
SELECT * FROM unit;;
;
SELECT * FROM unit;;
SELECT * FROM unit;
;
;
;
;
SELECT * FROM unit;;
ALTER TABLE unit DROP COLUMN amount_sold CASCADE;;
SELECT * FROM unit;;
SELECT * FROM unit;;
;
SELECT * FROM unit;;
SELECT * FROM unit;
;
;
;
;
SELECT * FROM unit;;
