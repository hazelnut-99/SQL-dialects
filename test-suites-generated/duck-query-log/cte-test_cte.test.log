PRAGMA enable_verification;
create table a(i integer);;
insert into a values (42);;
with cte1 as (Select i as j from a) select * from cte1;;
with cte1 as (Select i as j from a) select * from cte1;;
;
with cte1 as (Select i as j from a) select * from cte1;;
WITH cte1 AS (SELECT i AS j FROM a)SELECT * FROM cte1;
;
;
;
;
with cte1 as (Select i as j from a) select * from cte1;;
with cte1 as (Select i as j from a) select x from cte1 t1(x);;
with cte1 as (Select i as j from a) select x from cte1 t1(x);;
;
with cte1 as (Select i as j from a) select x from cte1 t1(x);;
WITH cte1 AS (SELECT i AS j FROM a)SELECT x FROM cte1 AS t1(x);
;
;
;
;
with cte1 as (Select i as j from a) select x from cte1 t1(x);;
with cte1(xxx) as (Select i as j from a) select xxx from cte1;;
with cte1(xxx) as (Select i as j from a) select xxx from cte1;;
;
with cte1(xxx) as (Select i as j from a) select xxx from cte1;;
WITH cte1 (xxx) AS (SELECT i AS j FROM a)SELECT xxx FROM cte1;
;
;
;
;
with cte1(xxx) as (Select i as j from a) select xxx from cte1;;
with cte1(xxx) as (Select i as j from a) select x from cte1 t1(x);;
with cte1(xxx) as (Select i as j from a) select x from cte1 t1(x);;
;
with cte1(xxx) as (Select i as j from a) select x from cte1 t1(x);;
WITH cte1 (xxx) AS (SELECT i AS j FROM a)SELECT x FROM cte1 AS t1(x);
;
;
;
;
with cte1(xxx) as (Select i as j from a) select x from cte1 t1(x);;
with cte1 as (Select i as j from a), cte2 as (select ref.j as k from cte1 as ref), cte3 as (select ref2.j+1 as i from cte1 as ref2) select * from cte2 , cte3;;
with cte1 as (Select i as j from a), cte2 as (select ref.j as k from cte1 as ref), cte3 as (select ref2.j+1 as i from cte1 as ref2) select * from cte2 , cte3;;
;
with cte1 as (Select i as j from a), cte2 as (select ref.j as k from cte1 as ref), cte3 as (select ref2.j+1 as i from cte1 as ref2) select * from cte2 , cte3;;
WITH cte1 AS (SELECT i AS j FROM a), cte2 AS (SELECT "ref".j AS k FROM cte1 AS "ref"), cte3 AS (SELECT (ref2.j + 1) AS i FROM cte1 AS ref2)SELECT * FROM cte2 , cte3;
;
;
;
;
with cte1 as (Select i as j from a), cte2 as (select ref.j as k from cte1 as ref), cte3 as (select ref2.j+1 as i from cte1 as ref2) select * from cte2 , cte3;;
with cte1 as (select i as j from a), cte2 as (select ref.j as k from cte1 as ref), cte3 as (select ref2.j+1 as i from cte1 as ref2) select * from cte2 union all select * FROM cte3;;
with cte1 as (select i as j from a), cte2 as (select ref.j as k from cte1 as ref), cte3 as (select ref2.j+1 as i from cte1 as ref2) select * from cte2 union all select * FROM cte3;;
;
with cte1 as (select i as j from a), cte2 as (select ref.j as k from cte1 as ref), cte3 as (select ref2.j+1 as i from cte1 as ref2) select * from cte2 union all select * FROM cte3;;
WITH cte1 AS (SELECT i AS j FROM a), cte2 AS (SELECT "ref".j AS k FROM cte1 AS "ref"), cte3 AS (SELECT (ref2.j + 1) AS i FROM cte1 AS ref2)(SELECT * FROM cte2) UNION ALL (SELECT * FROM cte3);
;
;
;
;
with cte1 as (select i as j from a), cte2 as (select ref.j as k from cte1 as ref), cte3 as (select ref2.j+1 as i from cte1 as ref2) select * from cte2 union all select * FROM cte3;;
with cte3 as (select ref2.j as i from cte1 as ref2), cte1 as (Select i as j from a), cte2 as (select ref.j+1 as k from cte1 as ref) select * from cte2 union all select * FROM cte3;;
with cte3 as (select ref2.j as i from cte1 as ref2), cte1 as (Select i as j from a), cte2 as (select ref.j+1 as k from cte1 as ref) select * from cte2 union all select * FROM cte3;;
;
with cte3 as (select ref2.j as i from cte1 as ref2), cte1 as (Select i as j from a), cte2 as (select ref.j+1 as k from cte1 as ref) select * from cte2 union all select * FROM cte3;;
WITH cte3 AS (SELECT ref2.j AS i FROM cte1 AS ref2), cte1 AS (SELECT i AS j FROM a), cte2 AS (SELECT ("ref".j + 1) AS k FROM cte1 AS "ref")(SELECT * FROM cte2) UNION ALL (SELECT * FROM cte3);
;
;
;
;
with cte3 as (select ref2.j as i from cte1 as ref2), cte1 as (Select i as j from a), cte2 as (select ref.j+1 as k from cte1 as ref) select * from cte2 union all select * FROM cte3;;
with cte1 as (Select i as j from a) select * from cte1 cte11, cte1 cte12;;
with cte1 as (Select i as j from a) select * from cte1 cte11, cte1 cte12;;
;
with cte1 as (Select i as j from a) select * from cte1 cte11, cte1 cte12;;
WITH cte1 AS (SELECT i AS j FROM a)SELECT * FROM cte1 AS cte11 , cte1 AS cte12;
;
;
;
;
with cte1 as (Select i as j from a) select * from cte1 cte11, cte1 cte12;;
with cte1 as (Select i as j from a) select * from cte1 where j = (select max(j) from cte1 as cte2);;
with cte1 as (Select i as j from a) select * from cte1 where j = (select max(j) from cte1 as cte2);;
;
with cte1 as (Select i as j from a) select * from cte1 where j = (select max(j) from cte1 as cte2);;
WITH cte1 AS (SELECT i AS j FROM a)SELECT * FROM cte1 WHERE (j = (SELECT max(j) FROM cte1 AS cte2));
;
;
;
;
with cte1 as (Select i as j from a) select * from cte1 where j = (select max(j) from cte1 as cte2);;
with cte1(x, y) as (select 42 a, 84 b) select zzz, y from cte1 t1(zzz);;
with cte1(x, y) as (select 42 a, 84 b) select zzz, y from cte1 t1(zzz);;
;
with cte1(x, y) as (select 42 a, 84 b) select zzz, y from cte1 t1(zzz);;
WITH cte1 (x, y) AS (SELECT 42 AS a, 84 AS b)SELECT zzz, y FROM cte1 AS t1(zzz);
;
;
;
;
with cte1(x, y) as (select 42 a, 84 b) select zzz, y from cte1 t1(zzz);;
create view va AS (with cte as (Select i as j from a) select * from cte);;
select * from va;
select * from va;
;
select * from va;
SELECT * FROM va;
;
;
;
;
select * from va;
with cte AS (SELECT * FROM va) SELECT * FROM cte;;
with cte AS (SELECT * FROM va) SELECT * FROM cte;;
;
with cte AS (SELECT * FROM va) SELECT * FROM cte;;
WITH cte AS (SELECT * FROM va)SELECT * FROM cte;
;
;
;
;
with cte AS (SELECT * FROM va) SELECT * FROM cte;;
create view vb AS (with cte1 as (Select i as j from a), cte2 as (select ref.j+1 as k from cte1 as ref) select * from cte2);;
select * from vb;
select * from vb;
;
select * from vb;
SELECT * FROM vb;
;
;
;
;
select * from vb;
SELECT 1 UNION ALL (WITH cte AS (SELECT 42) SELECT * FROM cte);;
SELECT 1 UNION ALL (WITH cte AS (SELECT 42) SELECT * FROM cte);;
;
SELECT 1 UNION ALL (WITH cte AS (SELECT 42) SELECT * FROM cte);;
(SELECT 1) UNION ALL (WITH cte AS (SELECT 42)SELECT * FROM cte);
;
;
;
;
SELECT 1 UNION ALL (WITH cte AS (SELECT 42) SELECT * FROM cte);;
WITH RECURSIVE cte(d) AS (
		SELECT 1
	UNION ALL
		(WITH c(d) AS (SELECT * FROM cte)
			SELECT d + 1
			FROM c
			WHERE FALSE
		)
)
SELECT max(d) FROM cte;;
WITH RECURSIVE cte(d) AS (
		SELECT 1
	UNION ALL
		(WITH c(d) AS (SELECT * FROM cte)
			SELECT d + 1
			FROM c
			WHERE FALSE
		)
)
SELECT max(d) FROM cte;;
;
WITH RECURSIVE cte(d) AS (
		SELECT 1
	UNION ALL
		(WITH c(d) AS (SELECT * FROM cte)
			SELECT d + 1
			FROM c
			WHERE FALSE
		)
)
SELECT max(d) FROM cte;;
WITH RECURSIVE cte (d) AS ((SELECT 1) UNION  ALL (WITH c (d) AS (SELECT * FROM cte)SELECT (d + 1) FROM c WHERE CAST('f' AS BOOLEAN)))SELECT max(d) FROM cte;
;
;
;
;
WITH RECURSIVE cte(d) AS (
		SELECT 1
	UNION ALL
		(WITH c(d) AS (SELECT * FROM cte)
			SELECT d + 1
			FROM c
			WHERE FALSE
		)
)
SELECT max(d) FROM cte;;
with cte (a) as (
    select 1
)
select
    a as alias1,
    alias1 as alias2
from cte
where alias2 > 0;;
with cte (a) as (
    select 1
)
select
    a as alias1,
    alias1 as alias2
from cte
where alias2 > 0;;
;
with cte (a) as (
    select 1
)
select
    a as alias1,
    alias1 as alias2
from cte
where alias2 > 0;;
WITH cte (a) AS (SELECT 1)SELECT a AS alias1, alias1 AS alias2 FROM cte WHERE (alias2 > 0);
;
;
;
;
with cte (a) as (
    select 1
)
select
    a as alias1,
    alias1 as alias2
from cte
where alias2 > 0;;
