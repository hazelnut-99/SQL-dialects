PRAGMA enable_verification;
CREATE TABLE integers (a INT);
INSERT INTO integers VALUES (1);
CREATE MACRO subquery(a) AS (SELECT a);
SELECT subquery(1);
SELECT subquery(1);
;
SELECT subquery(1);
SELECT subquery(1);
;
;
;
;
SELECT subquery(1);
SELECT subquery(NULL);
SELECT subquery(NULL);
;
SELECT subquery(NULL);
SELECT subquery(NULL);
;
;
;
;
SELECT subquery(NULL);
SELECT subquery(3) + a FROM integers;
SELECT subquery(3) + a FROM integers;
;
SELECT subquery(3) + a FROM integers;
SELECT (subquery(3) + a) FROM integers;
;
;
;
;
SELECT subquery(3) + a FROM integers;
SELECT subquery(a) FROM integers;
SELECT subquery(a) FROM integers;
;
SELECT subquery(a) FROM integers;
SELECT subquery(a) FROM integers;
;
;
;
;
SELECT subquery(a) FROM integers;
CREATE MACRO a1(a) AS (SELECT a + a FROM integers);
CREATE MACRO a1(b) AS (SELECT a + a FROM integers);
SELECT a1(3);
SELECT a1(3);
;
SELECT a1(3);
SELECT a1(3);
;
;
;
;
SELECT a1(3);
SELECT a1(3) + a FROM integers;
SELECT a1(3) + a FROM integers;
;
SELECT a1(3) + a FROM integers;
SELECT (a1(3) + a) FROM integers;
;
;
;
;
SELECT a1(3) + a FROM integers;
CREATE MACRO a2(a) AS (SELECT i.a + a FROM integers i);
CREATE MACRO a2(b) AS (SELECT i.a + b FROM integers i);
SELECT a2(3);
SELECT a2(3);
;
SELECT a2(3);
SELECT a2(3);
;
;
;
;
SELECT a2(3);
